<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>构造函数模式</title>
	</head>
	<body>
		<script>
			// 构造函数的主要问题:
			// 就是每个方法都要在每个实例上重新创建一遍.
			function Person(name, age, job) {
				this.name = name;
				this.age = age;
				this.job = job;
				this.sayName = function() {
					return this.name;
				};	
			}
			var person1 = new Person("Nicholas", 29, "Software Engineer");
			console.log(person1);
			var person2 = new Person("Greg", 27, "Doctor");
			console.log(person2);
			
			// 要创建 Person 的新实例,必须使用 new 操作符.以这种方式调用构造函数需要4个步骤:
			// (1)创建一个新对象;
			// (2)将构造函数的作用域赋给新对象(因此 this 就指向了这个新对象);
			// (3)执行构造函数中的代码(为这个新对象添加属性);
			// (4)返回新对象.
			
			// 实例的构造函数属性 constructor 指向 person
			console.log(person1.constructor == Person); // true
			console.log(person2.constructor == Person); // true
			 
			// 用 instanceof 操作符检测对象类型
			console.log(person1 instanceof Object); // true
			console.log(person1 instanceof Person); // true
			console.log(person2 instanceof Object); // true
			console.log(person2 instanceof Person); // true
		</script>
	</body>
</html>
